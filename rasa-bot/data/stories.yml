version: "3.1"

stories:
# Historia principal: flujo completo desde saludo hasta pago
- story: Flujo completo con saludo
  steps:
  - intent: greet
  - action: utter_greet
  - intent: solicitar_manifiesto
  - action: manifiesto_form
  - active_loop: manifiesto_form
  - active_loop: null
  - action: action_submit_manifiesto
  - action: action_solicitar_pago
  - intent: confirmar_pago
  - action: action_confirmar_pago
  - action: action_generar_manifiesto
  - intent: agradecer
  - action: utter_agradecer
  - intent: goodbye
  - action: utter_goodbye

# Historia directa: sin saludo, directo al manifiesto
- story: Solicitud directa de manifiesto
  steps:
  - intent: solicitar_manifiesto
  - action: manifiesto_form
  - active_loop: manifiesto_form
  - active_loop: null
  - action: action_submit_manifiesto
  - action: action_solicitar_pago
  - intent: confirmar_pago
  - action: action_confirmar_pago
  - action: action_generar_manifiesto
  - intent: agradecer
  - action: utter_agradecer

# Cliente pregunta primero cuánto cuesta
- story: Consulta de pago antes de solicitar
  steps:
  - intent: greet
  - action: utter_greet
  - intent: consultar_pago
  - action: action_solicitar_pago
  - intent: solicitar_manifiesto
  - action: manifiesto_form
  - active_loop: manifiesto_form
  - active_loop: null
  - action: action_submit_manifiesto
  - action: action_solicitar_pago

# Usuario proporciona datos extra durante el formulario
- story: Usuario da información adicional durante formulario
  steps:
  - intent: solicitar_manifiesto
  - action: manifiesto_form
  - active_loop: manifiesto_form
  - intent: informar_datos
  - action: manifiesto_form
  - active_loop: null
  - action: action_submit_manifiesto
  - action: action_solicitar_pago
  - intent: confirmar_pago
  - action: action_confirmar_pago
  - action: action_generar_manifiesto

# Solo saludo y después solicita manifiesto
- story: Saludo simple y luego manifiesto
  steps:
  - intent: greet
  - action: utter_greet
  - intent: solicitar_manifiesto  
  - action: manifiesto_form
  - active_loop: manifiesto_form

# Cliente agradece al final
- story: Agradecimiento y despedida
  steps:
  - intent: agradecer
  - action: utter_agradecer
  - intent: goodbye
  - action: utter_goodbye

# Cliente pregunta cuánto cuesta después de dar datos
- story: Consulta de pago después del formulario
  steps:
  - intent: solicitar_manifiesto
  - action: manifiesto_form
  - active_loop: manifiesto_form
  - active_loop: null
  - action: action_submit_manifiesto
  - intent: consultar_pago
  - action: action_solicitar_pago
  - intent: confirmar_pago
  - action: action_confirmar_pago
  - action: action_generar_manifiesto

- story: Usuario corrige datos durante formulario
  steps:
  - intent: solicitar_manifiesto
  - action: manifiesto_form
  - active_loop: manifiesto_form
  - intent: corregir_datos
  - action: action_corregir_campo
  - action: manifiesto_form
  - active_loop: null
  - action: action_submit_manifiesto